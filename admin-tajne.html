<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>ADMIN | Lemonade</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { background: #1a1a1a; color: white; }
        .order-card {
            background: #2d3436; border-left: 10px solid #FFD700;
            margin: 10px 0; padding: 15px; border-radius: 8px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .btn-ready { background: #2ecc71; color: white; border: none; padding: 8px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
<div class="app-container">
    <h1>üõ† Aktywne <span>Zam√≥wienia</span></h1>
    <div id="orders-list">Wczytywanie z bazy SQLite...</div>
    <button onclick="window.location.href='index.html'" style="margin-top:20px; background:none; border:none; color:gray; cursor:pointer;">‚Üê Powr√≥t do menu</button>
</div>

<script>
    const API_URL = "https://ensemble-seafood-wiki-richard.trycloudflare.com";

    function odswiez() {
        fetch(`${API_URL}/list-zamowienia`)
            .then(res => res.json())
            .then(data => {
                const list = document.getElementById('orders-list');
                list.innerHTML = data.length ? "" : "Brak nowych zam√≥wie≈Ñ.";
                data.forEach(zam => {
                    list.innerHTML += `
                            <div class="order-card">
                                <span>[${zam.godzina}] <b>${zam.produkt}</b></span>
                                <button class="btn-ready" onclick="this.parentElement.remove()">GOTOWE</button>
                            </div>`;
                });
            })
            .catch(err => console.error("Serwer offline"));
    }

    setInterval(odswiez, 3000); // Od≈õwie≈ºaj co 3 sekundy
    odswiez();
</script>
</body>
</html>