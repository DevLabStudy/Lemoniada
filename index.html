<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemonade System 2026</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app-container">
    <header>
        <h1 id="secret-trigger" onclick="checkAdmin()">Lemonade <span>System</span></h1>
        <p>Najlepsze orze≈∫wienie z Twojego lokalnego serwera!</p>
    </header>

    <main class="menu-grid">
        <div class="product-card">
            <div class="icon">üçã</div>
            <h3>Klasyczna</h3>
            <p>5.00 z≈Ç</p>
            <button onclick="zamow('Klasyczna')">ZAM√ìW</button>
        </div>
        <div class="product-card">
            <div class="icon">üçä</div>
            <h3>Pomara≈Ñczowa</h3>
            <p>6.50 z≈Ç</p>
            <button onclick="zamow('Pomara≈Ñczowa')">ZAM√ìW</button>
        </div>
    </main>
</div>

<script>
    const API_URL = "https://ensemble-seafood-wiki-richard.trycloudflare.com";
    let clicks = 0;

    function checkAdmin() {
        clicks++;
        if (clicks >= 5) {
            const pass = prompt("Podaj kod szefa:");
            if (pass === "1337") window.location.href = "admin-tajne.html";
            clicks = 0;
        }
        setTimeout(() => { clicks = 0; }, 2000); // Reset po 2 sek
    }

    function zamow(produkt) {
        fetch(`${API_URL}/zamow`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ produkt: produkt })
        })
            .then(res => res.json())
            .then(data => alert(`Wys≈Çano zam√≥wienie na lemoniadƒô ${produkt}!`))
            .catch(err => alert("Serwer PC jest offline!"));
    }
</script>
</body>
</html>