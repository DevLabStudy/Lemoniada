<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lemoniada System 2026</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="app-container">
    <header>
        <h1 id="main-title" onclick="handleSecretClick()">Lemonade <span>System</span></h1>
        <p>Najlepsze orzeÅºwienie w Twojej okolicy!</p>
    </header>

    <main class="menu-grid">
        <div class="product-card">
            <div class="icon">ğŸ‹</div>
            <h3>Klasyczna</h3>
            <p>5.00 zÅ‚</p>
            <button onclick="zamow('Klasyczna')">ZAMÃ“W</button>
        </div>
        <div class="product-card">
            <div class="icon">ğŸ“</div>
            <h3>Truskawkowa</h3>
            <p>6.50 zÅ‚</p>
            <button onclick="zamow('Truskawkowa')">ZAMÃ“W</button>
        </div>
    </main>
</div>

<script>
    const API_URL = "https://ensemble-seafood-wiki-richard.trycloudflare.com";
    let clickCount = 0;

    function handleSecretClick() {
        clickCount++;
        if (clickCount >= 5) {
            const pin = prompt("WprowadÅº kod dostÄ™pu:");
            if (pin === "1337") {
                window.location.href = "admin-tajne.html";
            } else {
                alert("BÅ‚Ä™dny kod!");
                clickCount = 0;
            }
        }
        // Reset licznika po 3 sekundach bezczynnoÅ›ci
        setTimeout(() => { clickCount = 0; }, 3000);
    }

    function zamow(produkt) {
        fetch(`${API_URL}/zamow`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ produkt: produkt })
        })
            .then(res => res.json())
            .then(data => alert(`ZamÃ³wiono ${produkt}! (Nr: ${data.id})`))
            .catch(err => alert("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem PC!"));
    }
</script>
</body>
</html>